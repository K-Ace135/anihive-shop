<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AniHive</title>

  <link rel="stylesheet" href="style.css" />
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <!-- Accessible Menu Overlay (move outside header, just after <body>) -->
  <div class="accessible-menu-overlay" id="accessible-menu-overlay" tabindex="-1">
    <nav class="accessible-menu" id="accessible-menu" aria-label="Main menu">
      <button class="accessible-menu-close" id="menu-close" aria-label="Close menu">&times;</button>
      <div class="accessible-menu-section" id="menu-search-section"></div>
      <div class="accessible-menu-section" id="menu-nav-section"></div>
      <div class="accessible-menu-section" id="menu-popular-section"></div>
    </nav>
  </div>
  <!-- End Accessible Menu Overlay -->

  <div class="static-header-auth">
    <button class="register-btn">Register</button>
    <button class="login-btn">Log In</button>
  </div>
  <header>
    <div class="header-left">
      <div class="logo">
        <h1><span>Ani</span>Hive</h1>
      </div>
    </div>
    <div class="logo-search">
      <select class="header-category-select">
<option value="All Categories" selected>All Categories</option>
        <option value="Premium Bandai">Premium Bandai</option>
<option value="BANDAI Candytoys">BANDAI Candytoys</option>
<option value="T-Shirts">T-Shirts</option>
<option value="Hoodies">Hoodies</option>
<option value="Cosplay Costumes">Cosplay Costumes</option>
<option value="Notebooks">Notebooks</option>
<option value="Stickers">Stickers</option>
<option value="Posters">Posters</option>
<option value="Wall Scrolls">Wall Scrolls</option>
<option value="Keychains">Keychains</option>
<option value="Plushies">Plushies</option>
<option value="Blu-Ray/DVD">Blu-Ray/DVD</option>
<option value="Points Rewards">Points Rewards</option>
<option value="Banpresto">Banpresto</option>
<option value="Nendoroid">Nendoroid</option>
<option value="Figma">Figma</option>
<option value="Scale">Scale</option>
<option value="Others (Figure)">Others (Figure)</option>
<option value="Seiyuu/Artist CD">Seiyuu/Artist CD</option>
<option value="Character Song CD">Character Song CD</option>
<option value="Theme Song CD">Theme Song CD</option>
<option value="Drama CD">Drama CD</option>
<option value="Soundtrack">Soundtrack</option>
<option value="Japanese Magazine">Japanese Magazine</option>
<option value="Japanese Book">Japanese Book</option>
<option value="Japanese Comic">Japanese Comic</option>
<option value="Thai Illustration Book">Thai Illustration Book</option>
<option value="Thai Comic">Thai Comic</option>
<option value="Gachapon">Gachapon</option>
<option value="Trading Card">Trading Card</option>
<option value="With Bonus">With Bonus</option>
<option value="Kuji">Kuji</option>
<option value="Live Concert Goods">Live Concert Goods</option>
<option value="Limited Edition Albums">Limited Edition Albums</option>
<option value="Lightsticks">Lightsticks</option>
<option value="Fan Club Exclusives">Fan Club Exclusives</option>
<option value="Wallpapers">Wallpapers</option>
<option value="VTuber Assets">VTuber Assets</option>
<option value="New Year Lucky Bags">New Year Lucky Bags</option>
<option value="Summer Festival Specials">Summer Festival Specials</option>
<option value="Halloween & Christmas Editions">Halloween & Christmas Editions</option>
<option value="Seiyuu Interviews">Seiyuu Interviews</option>
<option value="Behind-the-Scenes">Behind-the-Scenes</option>
<option value="Japanese Language Books">Japanese Language Books</option>

      </select>
      <input type="text" class="header-search-input" placeholder="Search products...">
      <button class="search-button">Search</button>
    </div>
    <div class="header-icons">
      <button class="accessible-menu-button" id="menu-btn" aria-label="Open menu" aria-controls="accessible-menu" aria-expanded="false">‚ò∞</button>
      <button class="search-menu-button" id="search-menu-btn" aria-label="Open search" style="display:none;">üîç</button>
      <a href="wishlist.html" title="Wishlist"><i class="fa-regular fa-heart"></i></a>
      <div class="cart-wrapper" id="cart-wrapper" style="position:relative;display:inline-block;">
        <button id="cartIconBtn" onclick="openCartModal()" style="background:none;border:none;outline:none;cursor:pointer;position:relative;display:flex;align-items:center;gap:0.5em;" aria-label="View cart" disabled>
  <span style="font-size:1.5em;position:relative;display:inline-block;line-height:1;">
    <i class="fa-solid fa-cart-shopping"></i>
    <span id="cart-badge" style="display:none;position:absolute;top:-7px;right:-8px;background:#ef4444;color:#fff;font-size:0.7em;font-weight:bold;padding:1px 5px;border-radius:999px;min-width:16px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,0.08);z-index:2;">0</span>
  </span>
  <span id="cart-total" style="font-weight:bold;color:#000000;font-size:1.1em;">‡∏ø0</span>
</button>
      </div>
    </div>
  </header>

  <nav class="top-nav">
    <a href="#">Home</a>
    <a href="products.html">Products</a>
    <a href="#">Preorder</a>
    <!-- Categories Dropdown Start -->
    <div class="dropdown" id="categories-dropdown">
      <button class="dropdown-btn" id="categoriesDropdownBtn" aria-haspopup="true" aria-expanded="false" tabindex="0">Categories</button>
      <div class="dropdown-content" id="categoriesDropdownContent" role="menu" aria-label="Categories">
        <div class="dropdown-col">
          <div class="dropdown-main">Goods</div>
          <div class="dropdown-sub" tabindex="0">Premium Bandai</div>
          <div class="dropdown-sub" tabindex="0">BANDAI Candytoys</div>
          <div class="dropdown-main">Blu-Ray/DVD</div>
          <div class="dropdown-sub" tabindex="0">Blu-Ray</div>
          <div class="dropdown-sub" tabindex="0">DVD</div>
          <div class="dropdown-main">Special Product</div>
          <div class="dropdown-main">Points Rewards</div>
        </div>
        <div class="dropdown-col">
          <div class="dropdown-main">Figure</div>
          <div class="dropdown-sub" tabindex="0">Banpresto</div>
          <div class="dropdown-sub" tabindex="0">Nendoroid</div>
          <div class="dropdown-sub" tabindex="0">Figma</div>
          <div class="dropdown-sub" tabindex="0">Scale</div>
          <div class="dropdown-sub" tabindex="0">Others</div>
          <div class="dropdown-main">CD</div>
          <div class="dropdown-sub" tabindex="0">Seiyuu/Artist</div>
          <div class="dropdown-sub" tabindex="0">Character Song</div>
          <div class="dropdown-sub" tabindex="0">Theme Song</div>
          <div class="dropdown-sub" tabindex="0">Drama CD</div>
          <div class="dropdown-sub" tabindex="0">Soundtrack</div>
          <div class="dropdown-main">With Bonus</div>
          <div class="dropdown-main">Kuji</div>
        </div>
        <div class="dropdown-col">
          <div class="dropdown-main">Book/Comic</div>
          <div class="dropdown-sub" tabindex="0">Japanese Magazine</div>
          <div class="dropdown-sub" tabindex="0">Japanese Book</div>
          <div class="dropdown-sub" tabindex="0">Japanese Comic</div>
          <div class="dropdown-sub" tabindex="0">Thai Illustration Book</div>
          <div class="dropdown-sub" tabindex="0">Thai Comic</div>
          <div class="dropdown-main">Gachapon</div>
          <div class="dropdown-main">Trading Card</div>
        </div>
      </div>
    </div>
    <!-- Categories Dropdown End -->
    <!-- Search By Title Dropdown Start -->
    <div class="dropdown" id="titles-dropdown">
      <button class="dropdown-btn" id="titlesDropdownBtn" aria-haspopup="true" aria-expanded="false" tabindex="0">Search By Title</button>
      <div class="dropdown-content" id="titlesDropdownContent" role="menu" aria-label="Titles" style="min-width:260px;max-height:400px;overflow-y:auto;">
        <div class="dropdown-col">
          <a class="dropdown-main" href="products.html?title=86 (Eighty-Six)">86 (Eighty-Six)</a>
<a class="dropdown-main" href="products.html?title=ALIEN STAGE">ALIEN STAGE</a>
<a class="dropdown-main" href="products.html?title=Akudama Drive">Akudama Drive</a>
<a class="dropdown-main" href="products.html?title=Ado">Ado</a>
<a class="dropdown-main" href="products.html?title=Aimer">Aimer</a>
<a class="dropdown-main" href="products.html?title=Amane Kanata">Amane Kanata</a>
<a class="dropdown-main" href="products.html?title=Animate_IMA">Animate_IMA</a>
<a class="dropdown-main" href="products.html?title=Attack On Titan">Attack On Titan</a>
<a class="dropdown-main" href="products.html?title=BAUBAU">BAUBAU</a>
<a class="dropdown-main" href="products.html?title=Blue Archive">Blue Archive</a>
<a class="dropdown-main" href="products.html?title=Blue Lock">Blue Lock</a>
<a class="dropdown-main" href="products.html?title=Bocchi the Rock!">Bocchi the Rock!</a>
<a class="dropdown-main" href="products.html?title=Buddy Daddies">Buddy Daddies</a>
<a class="dropdown-main" href="products.html?title=Bungo Stray Dogs">Bungo Stray Dogs</a>
<a class="dropdown-main" href="products.html?title=Call of the Night">Call of the Night</a>
<a class="dropdown-main" href="products.html?title=Chainsaw Man">Chainsaw Man</a>
<a class="dropdown-main" href="products.html?title=Dandadan">Dandadan</a>
<a class="dropdown-main" href="products.html?title=Dead Dead Demon‚Äôs Dededede Destruction">Dead Dead Demon‚Äôs Dededede Destruction</a>
<a class="dropdown-main" href="products.html?title=Delicious in Dungeon">Delicious in Dungeon</a>
<a class="dropdown-main" href="products.html?title=Dr. Stone: Science Future">Dr. Stone: Science Future</a>
<a class="dropdown-main" href="products.html?title=Erased">Erased</a>
<a class="dropdown-main" href="products.html?title=Eve">Eve</a>
<a class="dropdown-main" href="products.html?title=Filian">Filian</a>
<a class="dropdown-main" href="products.html?title=Fire Force">Fire Force</a>
<a class="dropdown-main" href="products.html?title=Frieren: Beyond Journey‚Äôs End">Frieren: Beyond Journey‚Äôs End</a>
<a class="dropdown-main" href="products.html?title=Gawr Gura">Gawr Gura</a>
<a class="dropdown-main" href="products.html?title=Haikyu!!">Haikyu!!</a>
<a class="dropdown-main" href="products.html?title=Hakos Baelz">Hakos Baelz</a>
<a class="dropdown-main" href="products.html?title=Hell‚Äôs Paradise">Hell‚Äôs Paradise</a>
<a class="dropdown-main" href="products.html?title=Hiiragi Tsurugi">Hiiragi Tsurugi</a>
<a class="dropdown-main" href="products.html?title=Honkai Star Rail">Honkai Star Rail</a>
<a class="dropdown-main" href="products.html?title=Hoshimachi Suisei">Hoshimachi Suisei</a>
<a class="dropdown-main" href="products.html?title=Houshou Marine">Houshou Marine</a>
<a class="dropdown-main" href="products.html?title=Hiroyuki Sawano">Hiroyuki Sawano</a>
<a class="dropdown-main" href="products.html?title=Hyakumantenbara Salome">Hyakumantenbara Salome</a>
<a class="dropdown-main" href="products.html?title=In the Heart of Kunoichi Tsubaki">In the Heart of Kunoichi Tsubaki</a>
<a class="dropdown-main" href="products.html?title=Ironmouse">Ironmouse</a>
<a class="dropdown-main" href="products.html?title=Iroha Kazama">Iroha Kazama</a>
<a class="dropdown-main" href="products.html?title=IRyS">IRyS</a>
<a class="dropdown-main" href="products.html?title=Jobless Reincarnation">Jobless Reincarnation</a>
<a class="dropdown-main" href="products.html?title=Jujutsu Kaisen">Jujutsu Kaisen</a>
<a class="dropdown-main" href="products.html?title=Kaela Kovalskia">Kaela Kovalskia</a>
<a class="dropdown-main" href="products.html?title=Kaiju No. 8">Kaiju No. 8</a>
<a class="dropdown-main" href="products.html?title=Kanae">Kanae</a>
<a class="dropdown-main" href="products.html?title=Kimetsu No Yaiba">Kimetsu No Yaiba</a>
<a class="dropdown-main" href="products.html?title=King Gnu">King Gnu</a>
<a class="dropdown-main" href="products.html?title=Kizuna AI">Kizuna AI</a>
<a class="dropdown-main" href="products.html?title=Kobo Kanaeru">Kobo Kanaeru</a>
<a class="dropdown-main" href="products.html?title=Kson">Kson</a>
<a class="dropdown-main" href="products.html?title=Kuroshitsuji: Midori no Majo-hen">Kuroshitsuji: Midori no Majo-hen</a>
<a class="dropdown-main" href="products.html?title=Kuzuha">Kuzuha</a>
<a class="dropdown-main" href="products.html?title=Laplus Darknesss">Laplus Darknesss</a>
<a class="dropdown-main" href="products.html?title=LiSA">LiSA</a>
<a class="dropdown-main" href="products.html?title=Lightsticks">Lightsticks</a>
<a class="dropdown-main" href="products.html?title=Lu Takane">Lui Takane</a>
<a class="dropdown-main" href="products.html?title=Lycoris Recoil">Lycoris Recoil</a>
<a class="dropdown-main" href="products.html?title=Mashle: Magic and Muscles">Mashle: Magic and Muscles</a>
<a class="dropdown-main" href="products.html?title=Medalist">Medalist</a>
<a class="dropdown-main" href="products.html?title=Miko (Sakura Miko)">Miko (Sakura Miko)</a>
<a class="dropdown-main" href="products.html?title=Mob Psycho 100">Mob Psycho 100</a>
<a class="dropdown-main" href="products.html?title=My Hero Academia">My Hero Academia</a>
<a class="dropdown-main" href="products.html?title=NIJISANJI EN">NIJISANJI EN</a>
<a class="dropdown-main" href="products.html?title=Oshi no Ko">Oshi no Ko</a>
<a class="dropdown-main" href="products.html?title=Ouro Kronii">Ouro Kronii</a>
<a class="dropdown-main" href="products.html?title=Parasyte: The Grey">Parasyte: The Grey</a>
<a class="dropdown-main" href="products.html?title=Pekora (Usada Pekora)">Pekora (Usada Pekora)</a>
<a class="dropdown-main" href="products.html?title=Project Sekai Colorful Stage Feat. Hatsune Miku">Project Sekai Colorful Stage Feat. Hatsune Miku</a>
<a class="dropdown-main" href="products.html?title=RADWIMPS">RADWIMPS</a>
<a class="dropdown-main" href="products.html?title=Re:Zero">Re:Zero</a>
<a class="dropdown-main" href="products.html?title=ReoNa">ReoNa</a>
<a class="dropdown-main" href="products.html?title=SAKAMOTO DAYS">SAKAMOTO DAYS</a>
<a class="dropdown-main" href="products.html?title=Shoto">Shoto</a>
<a class="dropdown-main" href="products.html?title=Shiranami Ramune">Shiranami Ramune</a>
<a class="dropdown-main" href="products.html?title=Shylily">Shylily</a>
<a class="dropdown-main" href="products.html?title=SK8 the Infinity">SK8 the Infinity</a>
<a class="dropdown-main" href="products.html?title=Solo Leveling">Solo Leveling</a>
<a class="dropdown-main" href="products.html?title=Spy √ó Family">Spy √ó Family</a>
<a class="dropdown-main" href="products.html?title=Sword Art Online">Sword Art Online</a>
<a class="dropdown-main" href="products.html?title=That Time I Got Reincarnated as a Slime">That Time I Got Reincarnated as a Slime</a>
<a class="dropdown-main" href="products.html?title=The Angel Next Door Spoils Me Rotten">The Angel Next Door Spoils Me Rotten</a>
<a class="dropdown-main" href="products.html?title=The Apothecary Diaries">The Apothecary Diaries</a>
<a class="dropdown-main" href="products.html?title=The Dangers in My Heart">The Dangers in My Heart</a>
<a class="dropdown-main" href="products.html?title=The Great Pretender">The Great Pretender</a>
<a class="dropdown-main" href="products.html?title=Tiang Guan Ci Fu">Tian Guan Ci Fu</a>
<a class="dropdown-main" href="products.html?title=To Your Eternity">To Your Eternity</a>
<a class="dropdown-main" href="products.html?title=Tokyo Revengers">Tokyo Revengers</a>
<a class="dropdown-main" href="products.html?title=Tsukino Mito">Tsukino Mito</a>
<a class="dropdown-main" href="products.html?title=Uma Musume: Cinderella Gray">Uma Musume: Cinderella Gray</a>
<a class="dropdown-main" href="products.html?title=Violet Evergarden">Violet Evergarden</a>
<a class="dropdown-main" href="products.html?title=Vocaloid">Vocaloid</a>
<a class="dropdown-main" href="products.html?title=VShojo">VShojo</a>
<a class="dropdown-main" href="products.html?title=Wind Breaker">Wind Breaker</a>
<a class="dropdown-main" href="products.html?title=YOASOBI">YOASOBI</a>
<a class="dropdown-main" href="products.html?title=Yorushika">Yorushika</a>
<a class="dropdown-main" href="products.html?title=Zenless Zone Zero">Zenless Zone Zero</a>
<a class="dropdown-main" href="products.html?title=Zentreya">Zentreya</a>
<a class="dropdown-main" href="products.html?title=ZilverK">ZilverK</a>
<a class="dropdown-main" href="products.html?title=ZUTOMAYO">ZUTOMAYO</a>

        </div>
      </div>
    </div>
    <!-- Search By Title Dropdown End -->
    <a href="#">My Account</a>
  </nav>

  <div class="container">
    <aside>
      <button class="collapsible-title" aria-expanded="true" id="popular-toggle">
        Popular Titles
        <span class="collapsible-arrow" id="popular-arrow">&#9660;</span>
      </button>
      <div class="collapsible-content open" id="popular-content">
        <ul id="popular-list">
          <li data-title="Jujutsu Kaisen"><img src="images/popular-titles/jujutsu-kaisen.jpg"><span>Jujutsu Kaisen</span></li>
          <li data-title="Blue Lock"><img src="images/popular-titles/blue_lock.jpg"><span>Blue Lock</span></li>
          <li data-title="Haikyu!!"><img src="images/popular-titles/haikyuu.jpg"><span>Haikyu!!</span></li>
          <li data-title="Wind Breaker"><img src="images/popular-titles/wind_breaker.jpg"><span>Wind Breaker</span></li>
          <li data-title="My Hero Academia"><img src="images/popular-titles/my_hero_academia.jpg"><span>My Hero Academia</span></li>
          <li data-title="Bungo Stray Dogs"><img src="images/popular-titles/bungo_stray_dogs.jpg"><span>Bungo Stray Dogs</span></li>
          <li data-title="Kimetsu no Yaiba"><img src="images/popular-titles/kimetsu_no_yaiba.jpg"><span>Kimetsu no Yaiba</span></li>
          <li data-title="Tian Guan Ci Fu"><img src="images/popular-titles/tian_guan_cifu.jpg"><span>Tian Guan Ci Fu</span></li>
          <li data-title="Honkai Star Rail"><img src="images/popular-titles/honkai_star_rail.jpg"><span>Honkai Star Rail</span></li>
          <li data-title="Genshin Impact"><img src="images/popular-titles/genshin_impact.jpg"><span>Genshin Impact</span></li>
        </ul>
      </div>
      <div class="related-products" id="related-products"></div>
    </aside>

    <main>
      <!-- Sliding Promo Banner Start -->
      <div class="main-carousel" id="main-carousel">
        <div class="carousel-track">
          <img src="images/carousel/alienstage.jpg" alt="Banner 1" class="carousel-item">
          <img src="images/carousel/spyxfamily.jpeg" alt="Banner 2" class="carousel-item">
          <img src="images/carousel/yuji-poster.webp" alt="Banner 3" class="carousel-item">
          <img src="images/carousel/ado-poster.webp" alt="Banner 4" class="carousel-item">
          <img src="images/carousel/genshin-impact-poster.jpg" alt="Banner 5" class="carousel-item">
        </div>
        <div class="carousel-dots" id="carousel-dots"></div>
      </div>
      <!-- Sliding Promo Banner End -->

      <!-- Additional Sliding Banners Side by Side -->
      <div class="side-by-side-banners">
        <div class="main-carousel small-carousel" id="main-carousel-2">
          <div class="carousel-track" id="carousel-track-2">
            <img src="images/carousel/demonslayer-small.jpeg" alt="Banner 1" class="carousel-item">
            <img src="images/carousel/genshin-small.jpg" alt="Banner 2" class="carousel-item">
            <img src="images/carousel/jjk-small.jpg" alt="Banner 3" class="carousel-item">
          </div>
          <div class="carousel-dots" id="carousel-dots-2"></div>
        </div>
        <div class="main-carousel small-carousel" id="main-carousel-3">
          <div class="carousel-track" id="carousel-track-3">
            <img src="images/carousel/spyfamily-small-kuji.jpg" alt="Banner 4" class="carousel-item">
            <img src="images/carousel/zoro-small-kuji.jpg" alt="Banner 5" class="carousel-item">
            <img src="images/carousel/onepiece-kuji.jpg" alt="Banner 6" class="carousel-item">
          </div>
          <div class="carousel-dots" id="carousel-dots-3"></div>
        </div>
      </div>
      <!-- End Additional Sliding Banners -->

      <h2 class="popular-products-header">Popular Items</h2>
      <div class="honeycomb-grid">
        <!-- Honeycomb will be generated here -->
      </div>
    </main>
  </div>
  <div class="modal-overlay" id="product-modal">
    <div class="modal-content">
      <button class="modal-close" id="modal-close" aria-label="Close">&times;</button>
      <img class="modal-img" id="modal-img" src="" alt="Product image" />
      <div class="modal-title" id="modal-title"></div>
      <div class="modal-desc" id="modal-desc"></div>
      <div class="modal-price" id="modal-price"></div>
      <div class="modal-actions">
        <button class="wishlist-btn" id="modal-wishlist" title="Add to wishlist"><i class="fa-regular fa-heart"></i></button>
        <button class="cart-btn" id="modal-cart" title="Add to cart"><i class="fa-solid fa-cart-shopping"></i></button>
      </div>
    </div>
  </div>
  <!-- Cart Modal Overlay (for cart pop-up) -->
<div id="cartModal" class="modal-overlay">
  <div class="modal-content" style="max-width:900px;width:90vw;">
    <button class="modal-close" onclick="closeCartModal()">&times;</button>
    <div id="cartModalContent">
      <!-- Cart content will be injected here by JS -->
    </div>
  </div>
</div>

<script src="script.js"></script>
<script>
// Scroll to top button logic (no flicker)
const scrollToTopBtn = document.getElementById('scrollToTopBtn');
const menuBar = document.querySelector('.top-nav');
let menuBarBottom = 0;
function updateMenuBarBottom() {
  const rect = menuBar.getBoundingClientRect();
  menuBarBottom = rect.top + window.scrollY + rect.height;
}
window.addEventListener('DOMContentLoaded', updateMenuBarBottom);
window.addEventListener('resize', updateMenuBarBottom);
let isBtnVisible = false;
window.addEventListener('scroll', function() {
  if(window.scrollY > menuBarBottom) {
    if (!isBtnVisible) {
      scrollToTopBtn.style.pointerEvents = 'auto';
      scrollToTopBtn.style.opacity = '1';
      isBtnVisible = true;
    }
  } else {
    if (isBtnVisible) {
      scrollToTopBtn.style.opacity = '0';
      scrollToTopBtn.style.pointerEvents = 'none';
      isBtnVisible = false;
    }
  }
});
scrollToTopBtn.addEventListener('click', function() {
  window.scrollTo({top:0, behavior:'smooth'});
});

// Cart Modal logic
function openCartModal() {
  document.getElementById('cartModal').classList.add('active');
  renderCartModal();
}
function closeCartModal() {
  document.getElementById('cartModal').classList.remove('active');
}

// Example: Simulate login state and cart items (replace with backend later)
let isLoggedIn = false; // Set to true if user is logged in (replace with backend check later)
let cartItems = [
  {
    title: "hololive production - Nendoroid Ninomae Ina‚Äônis (Re-run)",
    img: "https://dummyimage.com/80x80/eee/333&text=Ina",
    price: 1929,
    oldPrice: 2030,
    qty: 1,
    release: "31-12-2025"
  }
];

function renderCartModal() {
  const content = document.getElementById('cartModalContent');
  if (!isLoggedIn) {
    content.innerHTML = `
      <h2>Cart</h2>
      <div style="background:#f3f4f6;padding:1em;border-radius:8px;margin-bottom:1em;">
        You are not logged in. Please log in before placing an order.<br>
        <a href="/Account/Register" style="font-weight:bold;">Register</a> or <a href="/Account/Login" style="font-weight:bold;">Login</a>
      </div>
      <button onclick="window.location='/Account/Login'" style="width:100%;background:#3b82f6;color:#fff;padding:0.7em 0;border-radius:8px;font-size:1.1em;">Log in</button>
    `;
  } else {
    let itemsHtml = cartItems.map(item => `
      <div style="display:flex;align-items:center;gap:1em;margin-bottom:1em;">
        <img src="${item.img}" alt="" style="width:60px;height:60px;border-radius:8px;">
        <div style="flex:1;">
          <div style="font-weight:bold;">${item.title}</div>
          <div style="font-size:0.95em;color:#888;">JP Release Date ${item.release}</div>
        </div>
        <div>
          <span style="text-decoration:line-through;color:#aaa;">‡∏ø${item.oldPrice}</span><br>
          <span style="font-weight:bold;color:#b45309;">‡∏ø${item.price}</span>
        </div>
        <div>
          <button style="padding:0.2em 0.7em;">-</button>
          <span>${item.qty}</span>
          <button style="padding:0.2em 0.7em;">+</button>
        </div>
        <div style="font-weight:bold;">‡∏ø${item.price * item.qty}</div>
        <button style="background:none;border:none;color:#3b82f6;font-size:1.3em;">üóëÔ∏è</button>
      </div>
    `).join('');
    content.innerHTML = `
      <h2>Cart</h2>
      <div style="margin-bottom:1em;">
        <strong>Products Pre-Order</strong>
      </div>
      ${itemsHtml}
      <div style="margin:1em 0;background:#fef9c3;padding:0.7em 1em;border-radius:8px;">
        The items in the cart will be automatically removed after 3 days.
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <span style="font-weight:bold;">Total (${cartItems.length} item)</span>
        <span style="font-size:1.2em;font-weight:bold;color:#2563eb;">‡∏ø${cartItems.reduce((sum, i) => sum + i.price * i.qty, 0)}</span>
        <button style="background:#2563eb;color:#fff;padding:0.7em 2em;border-radius:8px;font-size:1.1em;">Checkout</button>
      </div>
    `;
  }
}

// Cart Icon update logic
function updateCartIcon() {
  const btn = document.getElementById('cartIconBtn');
  const badge = document.getElementById('cart-badge');
  const total = document.getElementById('cart-total');
  const itemCount = cartItems.reduce((sum, i) => sum + i.qty, 0);
  const money = cartItems.reduce((sum, i) => sum + i.price * i.qty, 0);
  if (itemCount > 0) {
    btn.disabled = false;
    btn.style.opacity = '1';
    btn.style.pointerEvents = 'auto';
    badge.style.display = 'inline-block';
    badge.textContent = itemCount;
    total.textContent = `‡∏ø${money}`;
  } else {
    btn.disabled = true;
    btn.style.opacity = '0.5';
    btn.style.pointerEvents = 'none';
    badge.style.display = 'none';
    total.textContent = '‡∏ø0';
  }
}

// Call updateCartIcon on page load and after cart changes
window.addEventListener('DOMContentLoaded', () => {
  updateMenuBarBottom();
  updateCartIcon();
});
window.addEventListener('resize', updateMenuBarBottom);
// If you have cart add/remove logic elsewhere, call updateCartIcon() after those changes.

document.getElementById('cartModal').addEventListener('click', function(e) {
  if (e.target === this) closeCartModal();
});
</script>
<button id="scrollToTopBtn" aria-label="Scroll to top" style="opacity:0;pointer-events:none;position:fixed;bottom:32px;right:32px;z-index:2000;background:rgba(255,223,120,0.55);box-shadow:0 8px 32px 0 rgba(230,167,62,0.18);backdrop-filter:blur(16px) saturate(180%);-webkit-backdrop-filter:blur(16px) saturate(180%);border:none;border-radius:50%;width:48px;height:48px;font-size:2em;color:#e67e22;cursor:pointer;transition:opacity 0.2s;display:block;align-items:center;justify-content:center;display:flex;">
  <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#e67e22" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"/></svg>
</button>
<script src="header-category-anim.js"></script>
<footer class="site-footer">
  <div class="footer-content">
    <div class="footer-section">
      <h3>AniHive</h3>
      <p>Your one-stop shop for anime figures, accessories, and more!</p>
    </div>
    <div class="footer-section">
      <h4>Quick Links</h4>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="products.html">Products</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Follow Us</h4>
      <div class="footer-socials">
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
      </div>
    </div>
  </div>
  <div class="footer-bottom">&copy; 2025 AniHive. All rights reserved.</div>
</footer>
</body>
</html>
